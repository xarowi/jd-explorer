/*
IM DELETING YOU, BROTHER!

██]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]] 10% complete.....

████████]]]]]]]]]]]]]]]]]]]]] 35% complete....

████████████]]]]]]]]]]]] 60% complete....

█████████████████] 99% complete.....

❌❌ERROR!❌❌

💯💯 Brothers of Islam are irreplaceable ☪
I could never delete you Brother!💖💖 
Send this to ten🔟 other 👨‍👩‍👦‍👦👨‍👩‍👦‍👦Mujahideen👨‍👩‍👦‍👦👨‍👩‍👦‍👦 
who would give their lives for ﷲAllahﷲ Or NEVER get called ☁️Brother☁
*/var alertPlaceholder=document.getElementById("live-alert"),goToButton=document.getElementById("go-to-this-path");function createSpinner(){var e=document.createElement("center"),t=document.createElement("div");return t.classList.add("spinner-border"),t.classList.add("text-danger"),e.appendChild(t),e}function createGoBackLi(e){let t=document.createElement("li");t.classList.add("list-group-item"),t.classList.add("list-group-item-action");var n=e.split("/"),a=e.replace(n[n.length-2],"");return a=a.substring(1,a.length-1),t.addEventListener("click",function(){goToThisPath(a)}),t.innerHTML="🔙 Back",t}function alert(e,t){var n=document.createElement("div");n.innerHTML='<div class="alert alert-'+t+' alert-dismissible" role="alert">'+e+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',alertPlaceholder.append(n)}function moveToThisFile(e){var t=new XMLHttpRequest;t.open("GET","/api/v1/get-download-url?url="+e),t.send(),t.onload=function(){console.log(this.response),this.response.includes("429 Too Many Requests")&&alert("Too many requests. Cool down!","warning");var e=JSON.parse(this.response);e.move&&window.open(e.url,"_blank").focus(),e.message&&alert(e.message,"danger")}}function goToThisPath(e){var t=document.getElementById("file-list"),n=document.getElementById("path-value");n.value="/"+e,t.innerHTML="",t.appendChild(createSpinner());var a=new XMLHttpRequest;a.open("GET","/api/v1/file-list?path="+e),a.send(),a.onload=function(){var e=JSON.parse(this.response),a=document.createDocumentFragment();"/"!=n.value&&a.appendChild(createGoBackLi(n.value)),e.items.map(function(e){let t=document.createElement("li");t.classList.add("list-group-item"),t.classList.add("list-group-item-action"),"folder"==e.type?t.addEventListener("click",function(){goToThisPath(e.url)}):t.addEventListener("click",function(){moveToThisFile(e.url)}),"folder"==e.type?t.innerHTML="📂 "+e.name:"file"==e.type&&e.name.endsWith(".webm")?t.innerHTML="🎞️ "+e.name:"file"==e.type&&(e.name.endsWith(".ogg")||e.name.endsWith(".opus"))?t.innerHTML="🎵 "+e.name:"file"==e.type&&(e.name.endsWith(".png")||e.name.endsWith(".jpg"))?t.innerHTML="🖼️ "+e.name:t.innerHTML="📜 "+e.name,a.appendChild(t)}),t.innerHTML="",t.appendChild(a)}}goToButton.addEventListener("click",function(){goToThisPath(document.getElementById("path-value").value.substring(1))}),goToThisPath("");